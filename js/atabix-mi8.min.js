function equalizeNow(){$(".equalize").matchHeight()}!function(window){"use strict";function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}function toggleClass(elem,c){var fn=hasClass(elem,c)?removeClass:addClass;fn(elem,c)}var hasClass,addClass,removeClass;"classList"in document.documentElement?(hasClass=function(elem,c){return elem.classList.contains(c)},addClass=function(elem,c){elem.classList.add(c)},removeClass=function(elem,c){elem.classList.remove(c)}):(hasClass=function(elem,c){return classReg(c).test(elem.className)},addClass=function(elem,c){hasClass(elem,c)||(elem.className=elem.className+" "+c)},removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c)," ")});var classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass};"function"==typeof define&&define.amd?define(classie):window.classie=classie}(window);var SidebarMenuEffects=function(){function hasParentClass(e,classname){return e===document?!1:classie.has(e,classname)?!0:e.parentNode&&hasParentClass(e.parentNode,classname)}function mobilecheck(){var check=!1;return function(a){(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(check=!0)}(navigator.userAgent||navigator.vendor||window.opera),check}function init(){var container=document.getElementById("st-container"),buttons=Array.prototype.slice.call(document.querySelectorAll("#st-trigger-effects > button")),eventtype=mobilecheck()?"touchstart":"click",resetMenu=function(){classie.remove(container,"st-menu-open")},bodyClickFn=function(evt){hasParentClass(evt.target,"st-menu")||(resetMenu(),document.removeEventListener(eventtype,bodyClickFn))};buttons.forEach(function(el,i){var effect=el.getAttribute("data-effect");el.addEventListener(eventtype,function(ev){ev.stopPropagation(),ev.preventDefault(),container.className="st-container",classie.add(container,effect),setTimeout(function(){classie.add(container,"st-menu-open")},25),document.addEventListener(eventtype,bodyClickFn)})})}init()}(),ModalEffects=function(){function init(){var overlay=document.querySelector(".md-overlay");[].slice.call(document.querySelectorAll(".md-trigger")).forEach(function(el,i){function removeModal(hasPerspective){classie.remove(modal,"md-show"),hasPerspective&&classie.remove(document.documentElement,"md-perspective")}function removeModalHandler(){removeModal(classie.has(el,"md-setperspective"))}var modal=document.querySelector("#"+el.getAttribute("data-modal")),close=modal.querySelector(".md-close");el.addEventListener("click",function(ev){classie.add(modal,"md-show"),overlay.removeEventListener("click",removeModalHandler),overlay.addEventListener("click",removeModalHandler),classie.has(el,"md-setperspective")&&setTimeout(function(){classie.add(document.documentElement,"md-perspective")},25)}),close&&close.addEventListener("click",function(ev){ev.stopPropagation(),removeModalHandler()})})}init()}();$(function(){$("#toggleSidepanel").click(function(){$(".toggleButton").toggleClass("active"),$("#mainPanel").toggleClass("large-8","large-12"),$("#sidePanel").toggleClass("showPanel")})}),$(function(){$(function(){$(".elementPanel.collapsable .title").click(function(){return $(this).parent(".elementPanel.open").switchClass("open","closed"),$(this).parent(".elementPanel.closed").switchClass("closed","open"),$(document).foundation("equalizer","reflow"),equalizeNow(),!1})})}),$(document).ready(function(){$(".notification .main").click(function(){$(".notification").switchClass("closed","open",200,"easeInOutExpo"),setTimeout(function(){$(document).foundation("equalizer","reflow"),equalizeNow()},200)}),$(".notification .closeNotification").click(function(){$(".notification").switchClass("open","closed",200,"easeInOutExpo"),setTimeout(function(){$(document).foundation("equalizer","reflow"),equalizeNow()},200)})}),function($,window,document,undefined){function Plugin(element,options){this.element=element,this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var searchTimeout,pluginName="globalSearch",defaults={id:"globalSearch",url:"/admin/global-search",prefill:"",delay:750,currentIndex:0,lastSearchQuery:"",resultCount:0,results:!1,selected:0};$.extend(Plugin.prototype,{init:function(){$searchbox=$("#"+this.settings.id+"_searchField"),$searchbox.bind("keyup",this.triggerSearch).data("element",this)},openSearch:function(){$("#"+this.settings.id).trigger("click"),this.activate()},activate:function(){var $searchbox=$("#"+this.settings.id+"_searchField");setTimeout(function(){$searchbox.focus()},500)},closeSearch:function(){$(".md-overlay").trigger("click")},execSearch:function(){$searchbox=$("#"+this.settings.id+"_searchField");var query=$searchbox.val(),e=this;return this.settings.lastSearchQuery==query?!1:(this.settings.lastSearchQuery=query,void $.get("/admin/global-search",{query:query},function(json){e.settings.results=json,e.setResults()},"json"))},triggerSearch:function(e){var object=$(this).data("element");switch(e.which){case 13:return void object.clickResult();case 38:return void(object.settings.lastSearchQuery.length>0&&object.resultUp());case 40:return void(object.settings.lastSearchQuery.length>0&&object.resultDown());case 18:case 19:case 20:case 27:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:return!1}clearTimeout(searchTimeout),searchTimeout=setTimeout(function(){object.execSearch()},object.settings.delay)},setResults:function(){$resultList=$("#"+this.settings.id+"_resultList"),$resultPreview=$("#"+this.settings.id+"_resultPreview");var isFirst=!0,results=this.settings.results;$resultList.html(""),this.settings.resultCount=0,this.settings.currentIndex=0;for(var i in results){this.settings.resultCount++;var tmp=results[i],$list=$("<li>"),$link=$("<a>").attr("href",tmp.url).html(tmp.name).appendTo($list);$list.appendTo($resultList),isFirst&&($resultPreview.html(tmp.preview),$list.addClass("active"),$link.addClass("active")),isFirst=!1}this.activateResult()},resultUp:function(){var newIndex=Math.max(0,this.settings.currentIndex-1);this.settings.currentIndex=newIndex,this.activateResult()},resultDown:function(){var newIndex=Math.min(this.settings.resultCount-1,this.settings.currentIndex+1);this.settings.currentIndex=newIndex,this.activateResult()},clickResult:function(){var current=this.settings.results[this.settings.currentIndex];current&&(window.location=current.url)},activateResult:function(){var index=this.settings.currentIndex,results=this.settings.results;$resultPreview=$("#"+this.settings.id+"_resultPreview"),$resultListItems=$("#"+this.settings.id+"_resultList li"),$resultListItems.removeClass("active"),$resultListItems.find("a").removeClass("active");var current=0;$resultListItems.each(function(){if(index==current){$(this).addClass("active"),$(this).find("a").addClass("active");var selected=results[current];$resultPreview.html(selected.preview)}current++})}}),$.fn[pluginName]=function(options){return this.each(function(){"open"==options?$.data(this,"plugin_"+pluginName).openSearch():"close"==options?$.data(this,"plugin_"+pluginName).closeSearch():"activate"==options?$.data(this,"plugin_"+pluginName).activate():$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,options))}),this}}(jQuery,window,document),function($,window,document,undefined){function Plugin(element,options){this.element=element,this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="fixedHeight",defaults={correctionTop:200};$.extend(Plugin.prototype,{init:function(){this.setHeight();var plugin=this;$(window).resize(function(){plugin.setHeight()})},setHeight:function(){var windowHeight=$(window).height(),newHeight=windowHeight-this.settings.correctionTop;$(this.element).height(newHeight)}}),$.fn[pluginName]=function(options,params){return this.each(function(){$.data(this,"plugin_"+pluginName)?$.isFunction(Plugin.prototype[options])&&$.data(this,"plugin_"+pluginName)[options](params):$.data(this,"plugin_"+pluginName,new Plugin(this,options))}),this}}(jQuery,window,document),function($,window,document,undefined){function Plugin(element,options){this.element=element,this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="autosave",defaults={fieldID:null,fieldName:null,fieldValue:null,url:!1};$.extend(Plugin.prototype,{init:function(){var e=this.element,url=$(e).attr("autosave-url"),id=$(e).attr("autosave-id");"undefined"!=typeof id&&"undefined"!=typeof url&&(this.settings.url=url,this.settings.fieldID=id,$(e).change(this.postUpdate).data("plugin",this))},postUpdate:function(){var value,plugin=$(this).data("plugin");value="checkbox"==$(this).attr("type")?$(this).prop("checked")?"on":"":$(plugin.element).val(),$.ajax(plugin.settings.url,{dataType:"json",method:"POST",data:{id:plugin.settings.fieldID,name:$(plugin.element).attr("name"),value:value},success:function(json){1!=json.status&&swal(json.title,json.msg,"error")}}).fail(function(){swal("Failed to autosave","Make sure that the url exists and processes the data correctly.","error")})}}),$.fn[pluginName]=function(options,params){return this.each(function(){$.data(this,"plugin_"+pluginName)?$.isFunction(Plugin.prototype[options])&&$.data(this,"plugin_"+pluginName)[options](params):$.data(this,"plugin_"+pluginName,new Plugin(this,options))}),this}}(jQuery,window,document),$(document).foundation(),$(function(){$(".datepicker").datepicker({changeMonth:!0,changeYear:!0,firstDay:1,buttonImage:"static/images/loading.gif",dateFormat:"dd-mm-yy",showButtonPanel:!0}),$("#globalSearch").globalSearch(),Mousetrap.bind("command+shift+s",function(e){$("#globalSearch").globalSearch("open")}),$(".URLify").dblclick(function(){return window.location=$(this).find("a").attr("href"),!1}),$(".URLifySingle").click(function(){return window.location=$(this).find("a").attr("href"),!1}),$("[autosave-url]").autosave()}),$(document).ready(function(){equalizeNow()}),$(document).foundation({tab:{callback:function(tab){equalizeNow()}}});